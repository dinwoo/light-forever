{"version":3,"sources":["webpack:///./src/views/member/MemberInfo.vue?1581","webpack:///./src/views/member/MemberInfo.vue?988e","webpack:///src/views/member/MemberInfo.vue","webpack:///./src/views/member/MemberInfo.vue?19ef","webpack:///./src/views/member/MemberInfo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","isLoading","_e","staticClass","_v","isEdit","directives","name","rawName","value","member","expression","attrs","domProps","on","$event","target","composing","$set","_s","phone","company","companyTitle","account","putMemberInfoApi","logoutHandler","staticRenderFns","components","props","mixins","data","computed","created","getMemberInfo","$router","push","mounted","methods","putMemberInfo","token","localStorage","getItem","removeItem","watch","component"],"mappings":"gHAAA,W,kECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAASF,EAAIM,UAAwmFN,EAAIO,KAAjmFH,EAAG,MAAM,CAACI,YAAY,uBAAuB,CAACJ,EAAG,KAAK,CAACI,YAAY,SAAS,CAACR,EAAIS,GAAG,UAAUL,EAAG,MAAM,CAACI,YAAY,YAAY,CAACJ,EAAG,MAAM,CAACI,YAAY,OAAO,CAACJ,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACI,YAAY,eAAe,CAACR,EAAIS,GAAG,QAAUT,EAAIU,OAA6EN,EAAG,QAAQ,CAACO,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOd,EAAIe,OAAW,KAAEC,WAAW,gBAAgBC,MAAM,CAAC,KAAO,QAAQC,SAAS,CAAC,MAASlB,EAAIe,OAAW,MAAGI,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,WAAqBtB,EAAIuB,KAAKvB,EAAIe,OAAQ,OAAQK,EAAOC,OAAOP,WAAzVV,EAAG,IAAI,CAACI,YAAY,cAAc,CAACR,EAAIS,GAAGT,EAAIwB,GAAGxB,EAAIe,OAAOH,aAA4SR,EAAG,MAAM,CAACI,YAAY,OAAO,CAACJ,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACI,YAAY,eAAe,CAACR,EAAIS,GAAG,QAAUT,EAAIU,OAA8EN,EAAG,QAAQ,CAACO,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOd,EAAIe,OAAY,MAAEC,WAAW,iBAAiBC,MAAM,CAAC,KAAO,SAASC,SAAS,CAAC,MAASlB,EAAIe,OAAY,OAAGI,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,WAAqBtB,EAAIuB,KAAKvB,EAAIe,OAAQ,QAASK,EAAOC,OAAOP,WAA/VV,EAAG,IAAI,CAACI,YAAY,cAAc,CAACR,EAAIS,GAAGT,EAAIwB,GAAGxB,EAAIe,OAAOU,cAAkTrB,EAAG,MAAM,CAACI,YAAY,OAAO,CAACJ,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACI,YAAY,eAAe,CAACR,EAAIS,GAAG,QAAUT,EAAIU,OAAgFN,EAAG,QAAQ,CAACO,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOd,EAAIe,OAAc,QAAEC,WAAW,mBAAmBC,MAAM,CAAC,KAAO,QAAQC,SAAS,CAAC,MAASlB,EAAIe,OAAc,SAAGI,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,WAAqBtB,EAAIuB,KAAKvB,EAAIe,OAAQ,UAAWK,EAAOC,OAAOP,WAAxWV,EAAG,IAAI,CAACI,YAAY,cAAc,CAACR,EAAIS,GAAGT,EAAIwB,GAAGxB,EAAIe,OAAOW,gBAA2TtB,EAAG,MAAM,CAACI,YAAY,OAAO,CAACJ,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACI,YAAY,eAAe,CAACR,EAAIS,GAAG,QAAUT,EAAIU,OAAqFN,EAAG,QAAQ,CAACO,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOd,EAAIe,OAAmB,aAAEC,WAAW,wBAAwBC,MAAM,CAAC,KAAO,QAAQC,SAAS,CAAC,MAASlB,EAAIe,OAAmB,cAAGI,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,WAAqBtB,EAAIuB,KAAKvB,EAAIe,OAAQ,eAAgBK,EAAOC,OAAOP,WAAjYV,EAAG,IAAI,CAACI,YAAY,cAAc,CAACR,EAAIS,GAAGT,EAAIwB,GAAGxB,EAAIe,OAAOY,qBAAoVvB,EAAG,MAAM,CAACI,YAAY,OAAO,CAACJ,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACI,YAAY,eAAe,CAACR,EAAIS,GAAG,QAAQL,EAAG,IAAI,CAACI,YAAY,cAAc,CAACR,EAAIS,GAAGT,EAAIwB,GAAGxB,EAAIe,OAAOa,kBAAoB5B,EAAIU,OAA6GN,EAAG,MAAM,CAACI,YAAY,MAAMW,GAAG,CAAC,MAAQnB,EAAI6B,mBAAmB,CAAC7B,EAAIS,GAAG,UAA5KL,EAAG,MAAM,CAACI,YAAY,MAAMW,GAAG,CAAC,MAAQ,SAASC,GAAQpB,EAAIU,QAAQV,EAAIU,UAAU,CAACV,EAAIS,GAAG,UAA6FT,EAAIU,OAAoGV,EAAIO,KAAhGH,EAAG,cAAc,CAACI,YAAY,MAAMS,MAAM,CAAC,GAAK,CAACL,KAAK,oBAAoB,CAACZ,EAAIS,GAAG,UAAqBT,EAAIU,OAAoFV,EAAIO,KAAhFH,EAAG,MAAM,CAACI,YAAY,MAAMW,GAAG,CAAC,MAAQnB,EAAI8B,gBAAgB,CAAC9B,EAAIS,GAAG,SAAkB,IACvsFsB,EAAkB,G,oCCoCtB,GACEnB,KAAM,aACNoB,WAAY,GACZC,MAAO,GACPC,OAAQ,GACRC,KALF,WAMI,MAAO,CACLzB,QAAQ,IAGZ0B,SAAU,OAAZ,OAAY,CAAZ,GACA,wCAEEC,QAbF,WAaA,WACA,kCACST,EAGH3B,KAAKqC,cAAcV,GACzB,kBACQ,QAAR,OACQ,aAAR,8BACQ,EAAR,aAEA,kBACQ,QAAR,eATM3B,KAAKsC,QAAQC,KAAK,CAAxB,iBAaEC,QA7BF,aA8BEC,QAAS,OAAX,OAAW,CAAX,kBACA,mDADA,IAEIb,iBAFJ,WAEA,WACM5B,KAAK0C,cAAc,CACjBC,MAAOC,aAAaC,QAAQ,SAC5BlC,KAAMX,KAAKc,OAAOH,KAClBa,MAAOxB,KAAKc,OAAOU,MACnBC,QAASzB,KAAKc,OAAOW,QACrBC,aAAc1B,KAAKc,OAAOY,eAElC,iBACQ,QAAR,eACQ,EAAR,aAEA,kBACQ,QAAR,gBAGIG,cAlBJ,WAmBMe,aAAaE,WAAW,WACxBF,aAAaE,WAAW,SACxB9C,KAAKsC,QAAQC,KAAK,CAAxB,mBAGEQ,MAAO,IC3F0V,I,wBCQ/VC,EAAY,eACd,EACAlD,EACAgC,GACA,EACA,KACA,WACA,MAIa,aAAAkB,E","file":"js/chunk-aa341b24.7360ac5a.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInfo.vue?vue&type=style&index=0&id=a860eaf8&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isLoading)?_c('div',{staticClass:\"member-info-wrapper\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"會員資料\")]),_c('div',{staticClass:\"form-box\"},[_c('div',{staticClass:\"row\"},[_c('label',[_c('div',{staticClass:\"field-title\"},[_vm._v(\"姓名\")]),(!_vm.isEdit)?_c('p',{staticClass:\"field-info\"},[_vm._v(_vm._s(_vm.member.name))]):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.member.name),expression:\"member.name\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.member.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.member, \"name\", $event.target.value)}}})])]),_c('div',{staticClass:\"row\"},[_c('label',[_c('div',{staticClass:\"field-title\"},[_vm._v(\"電話\")]),(!_vm.isEdit)?_c('p',{staticClass:\"field-info\"},[_vm._v(_vm._s(_vm.member.phone))]):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.member.phone),expression:\"member.phone\"}],attrs:{\"type\":\"phone\"},domProps:{\"value\":(_vm.member.phone)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.member, \"phone\", $event.target.value)}}})])]),_c('div',{staticClass:\"row\"},[_c('label',[_c('div',{staticClass:\"field-title\"},[_vm._v(\"公司\")]),(!_vm.isEdit)?_c('p',{staticClass:\"field-info\"},[_vm._v(_vm._s(_vm.member.company))]):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.member.company),expression:\"member.company\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.member.company)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.member, \"company\", $event.target.value)}}})])]),_c('div',{staticClass:\"row\"},[_c('label',[_c('div',{staticClass:\"field-title\"},[_vm._v(\"職稱\")]),(!_vm.isEdit)?_c('p',{staticClass:\"field-info\"},[_vm._v(_vm._s(_vm.member.companyTitle))]):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.member.companyTitle),expression:\"member.companyTitle\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.member.companyTitle)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.member, \"companyTitle\", $event.target.value)}}})])]),_c('div',{staticClass:\"row\"},[_c('label',[_c('div',{staticClass:\"field-title\"},[_vm._v(\"帳號\")]),_c('p',{staticClass:\"field-info\"},[_vm._v(_vm._s(_vm.member.account))])])])]),(!_vm.isEdit)?_c('div',{staticClass:\"btn\",on:{\"click\":function($event){_vm.isEdit=!_vm.isEdit}}},[_vm._v(\"修改資料\")]):_c('div',{staticClass:\"btn\",on:{\"click\":_vm.putMemberInfoApi}},[_vm._v(\"確認修改\")]),(!_vm.isEdit)?_c('router-link',{staticClass:\"btn\",attrs:{\"to\":{name:'ForgetPassword'}}},[_vm._v(\"修改密碼\")]):_vm._e(),(!_vm.isEdit)?_c('div',{staticClass:\"btn\",on:{\"click\":_vm.logoutHandler}},[_vm._v(\"登出\")]):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.member-info-wrapper(v-if=\"!isLoading\")\n  h2.title 會員資料\n  .form-box\n    .row\n      label\n        .field-title 姓名\n        p.field-info(v-if=\"!isEdit\") {{member.name}}\n        input(v-else type=\"text\" v-model=\"member.name\")\n    .row\n      label\n        .field-title 電話\n        p.field-info(v-if=\"!isEdit\") {{member.phone}}\n        input(v-else type=\"phone\" v-model=\"member.phone\")\n    .row\n      label\n        .field-title 公司\n        p.field-info(v-if=\"!isEdit\") {{member.company}}\n        input(v-else type=\"text\" v-model=\"member.company\")\n    .row\n      label\n        .field-title 職稱\n        p.field-info(v-if=\"!isEdit\") {{member.companyTitle}}\n        input(v-else type=\"text\" v-model=\"member.companyTitle\")\n    .row\n      label\n        .field-title 帳號\n        p.field-info {{member.account}}\n  .btn(v-if=\"!isEdit\" @click=\"isEdit=!isEdit\") 修改資料\n  .btn(v-else @click=\"putMemberInfoApi\") 確認修改\n  router-link.btn(v-if=\"!isEdit\" :to=\"{name:'ForgetPassword'}\") 修改密碼\n  .btn(v-if=\"!isEdit\" @click=\"logoutHandler\") 登出\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"MemberInfo\",\n  components: {},\n  props: {},\n  mixins: [],\n  data() {\n    return {\n      isEdit: false\n    };\n  },\n  computed: {\n    ...mapState([\"isLoading\", \"member\"])\n  },\n  created() {\n    const account = localStorage.getItem(\"account\");\n    if (!account) {\n      this.$router.push({ name: \"Signin\" });\n    } else {\n      this.getMemberInfo(account)\n        .then(res => {\n          console.log(res);\n          localStorage.setItem(\"token\", res.data.token);\n          this.isEdit = false;\n        })\n        .catch(() => {\n          console.log(\"fail\");\n        });\n    }\n  },\n  mounted() {},\n  methods: {\n    ...mapActions([\"getMemberInfo\", \"putMemberInfo\"]),\n    putMemberInfoApi() {\n      this.putMemberInfo({\n        token: localStorage.getItem(\"token\"),\n        name: this.member.name,\n        phone: this.member.phone,\n        company: this.member.company,\n        companyTitle: this.member.companyTitle\n      })\n        .then(() => {\n          console.log(\"success\");\n          this.isEdit = false;\n        })\n        .catch(() => {\n          console.log(\"fail\");\n        });\n    },\n    logoutHandler() {\n      localStorage.removeItem(\"account\");\n      localStorage.removeItem(\"token\");\n      this.$router.push({ name: \"Signin\" });\n    }\n  },\n  watch: {}\n};\n</script>\n\n<style lang=\"sass\" scoped>\n@import \"@/assets/sass/var.sass\"\n\n.member-info-wrapper\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberInfo.vue?vue&type=template&id=a860eaf8&scoped=true&lang=pug&\"\nimport script from \"./MemberInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemberInfo.vue?vue&type=style&index=0&id=a860eaf8&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a860eaf8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}